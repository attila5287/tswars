{"version":3,"sources":["components/Char.tsx","components/Loading.tsx","App.tsx","reportWebVitals.ts","index.tsx","utils/helpers.js"],"names":["Char","props","char","name","height","mass","hair_color","skin_color","eye_color","birth_year","gender","homeworld","films","map","f","href","species","s","vehicles","v","starships","helpers","formatDate","created","edited","url","Loading","loading","children","App","useState","chars","setChars","setLoading","getChars","a","axios","get","data","results","console","log","useEffect","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","module","exports","formatAmount","sign","amount","parseInt","toLocaleString","date","Date","getMonth","getDate","getFullYear","currencyIcons","currency","gallery","won","yen","shekel","rupee","ruble","pound","dollar","euro","lira","breakdownCategory","c","d","accountNames","accounts","flatMap","obj","acct","items","length","values","filter","dated","reduce","i","finalSum","cats","flat","datesArr","datesSet","Set","dates","Array","from","sums","toString","total","groupByCategory","datesArray","signsSet","r","res","forEach","sum","push","genColors","groupByAccount","styleAmount","plus","minus","calculate_progress","need","coll","Math","floor"],"mappings":"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","file":"static/js/main.d1cf93eb.chunk.js","sourcesContent":["import { FunctionComponent } from \"react\";\r\nimport { CharType, FilmType } from \"../types\";\r\nimport helpers from \"../utils/helpers\";\r\n\r\ninterface ICharProps {\r\n  char: CharType;\r\n}\r\n\r\nconst Char: FunctionComponent<ICharProps> = (props) => {\r\n  const { char } = props;\r\n \r\n    return (\r\n      <ul>\r\n        <li> name : {char.name}</li>\r\n        <li> height : {char.height}</li>\r\n        <li> mass : {char.mass}</li>\r\n        <li> hair_color : {char.hair_color}</li>\r\n        <li> skin_color : {char.skin_color}</li> \r\n        <li> eye_color : {char.eye_color}</li>\r\n        <li> birth_year : {char.birth_year}</li>\r\n        <li> gender : {char.gender}</li>\r\n        <li> homeworld : { char.homeworld }</li>\r\n        <li> films :{ char.films.map(f=>(<p key={f}><a href={f}> { f }</a></p>))}</li>\r\n        <li> species : { char.species.map(s=>(<p key={s}><a href={s}>{ s }</a></p>)) }</li>\r\n        <li> vehicles : { char.vehicles.map(v=>(<p key={v}><a href={v}>{ v }</a></p>))}</li>\r\n        <li> starships : { char.starships.map(s=>(<p key={s}><a href={s}>{ s }</a></p>)) }</li>\r\n        <li> created : {helpers.formatDate(char.created)}</li>\r\n        <li> edited : {helpers.formatDate(char.edited)}</li>\r\n        <li> url : <a href={char.url}>{char.url}</a> </li>\r\n      </ul>\r\n  );\r\n};\r\n\r\nexport default Char;\r\n","import { FunctionComponent } from \"react\";\r\n\r\ninterface ILoadingProps {\r\n  loading: boolean;\r\n}\r\n\r\nconst Loading: FunctionComponent<ILoadingProps> = (props) => {\r\n  const { loading } = props;\r\n\r\n  if (loading) {\r\n    return <>Loading...</>;\r\n  }\r\n\r\n  return <>{props.children}</>;\r\n};\r\n\r\nexport default Loading;\r\n","import axios from \"axios\";\nimport { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport Char from \"./components/Char\";\nimport { Results,CharType } from \"./types\";\nimport Loading from \"./components/Loading\";\n\nfunction App() {\n  const [chars, setChars] = useState<CharType[]>([]);\n  const [loading, setLoading] = useState<boolean>(false);\n\n  const getChars = async () => {\n    setLoading(true);\n    try {\n      const { data } = await axios.get<Results>(\n        \"https://swapi.dev/api/people/?search=anakin\"\n      );\n      setChars(data.results);\n    } catch {\n      console.log(\"err char fetch swapi\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    getChars();\n  }, []);\n\n  return (\n    <div>\n      <Loading loading={loading}>\n        {chars.map((char) => {\n          return <Char key={char.name} char={char} />;\n        })}\n      </Loading>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","module.exports = {\r\n    formatAmount: (sign, amount) => {\r\n\t\t// format large numbers with commas\r\n\t\tif (sign == 'minus') {\r\n\t\t\treturn '$ (' + parseInt(amount).toLocaleString() + ')';\r\n\t\t} else {\r\n\t\t\treturn '$ '+parseInt(amount).toLocaleString();\r\n\t\t}\r\n\t},\r\n\tformatDate: (date) => {\r\n\t\t// Using JavaScript Date methods, we get and format the month, date, and year\r\n\t\t// We need to add one to the month since it is returned as a zero-based value\r\n\t\treturn `${new Date(date).getMonth() + 1}/${new Date(date).getDate()}/${\r\n\t\t\t// We add five years to the 'year' value to calculate the end date\r\n\t\t\tnew Date(date).getFullYear() + 5\r\n\t\t}`;\r\n\t}, \r\n    currencyIcons: ( currency ) => {\r\n    const gallery = {\r\n\t\t\twon: 'fas fa-won-sign',\r\n\t\t\tyen: 'fas fa-yen-sign',\r\n\t\t\tshekel: 'fas fa-shekel-sign',\r\n\t\t\trupee: 'fas fa-rupee-sign',\r\n\t\t\truble: 'fas fa-ruble-sign',\r\n\t\t\tpound: 'fas fa-pound-sign',\r\n\t\t\tdollar: 'fas fa-dollar-sign',\r\n\t\t\teuro: 'fas fa-euro-sign',\r\n\t\t\tlira: 'fas fa-lira-sign',\r\n    };\r\n    return gallery[currency] ? gallery[currency] : 'far fa-edit'\r\n  },\r\n  breakdownCategory: ( c, d ) => {\r\n    const accountNames = c?.accounts\r\n      ?.flatMap( ( a ) => a.name );\r\n    // console.log(`accountNames`, accountNames)\r\n    const obj = {};\r\n    const accts = c.accounts.map((acct) => {\r\n        if (acct.items.length) {\r\n            obj[acct.name] = acct.items\r\n                ?.flatMap((a) => a.values)\r\n                .filter((v) => v.dated == d)\r\n                .flatMap((v) => v.amount)\r\n                .reduce((a, c) => a + c,0);\r\n        } else {\r\n        }\r\n        return obj;\r\n    } );\r\n    console.log(`obj`, obj)\r\n    \r\n    return accountNames.map((d,i)=>obj[d]);\r\n  },\r\n  finalSum: ( cats ) => {\r\n    const groupByCategory= (c) => {\r\n      const datesArr = c?.accounts\r\n        ?.flatMap((a) => a.items)\r\n        ?.flatMap((i) => i.values)\r\n        ?.flatMap((i) => i.dated);\r\n\r\n      const datesSet = new Set(datesArr);\r\n      const dates = Array.from(datesSet);\r\n\r\n      const obj = {};\r\n      const accts = dates.map((d) => {\r\n        const items = c.accounts.flatMap((a) => a.items);\r\n        const sums = (obj[d] = items\r\n          .flatMap((a) => a.values)\r\n          .filter((v) => v.dated == d)\r\n          .flatMap((v) => v.amount)\r\n          .reduce((a, c) => a + c));\r\n\r\n        if (items.length) {\r\n          obj[d] =  sums\r\n        } else {\r\n        }\r\n        return obj;\r\n      });\r\n      return dates.map((d) => {return{date: d.toString(), sign: c.sign,total:obj[d]}});\r\n    };\r\n    const datesArray = ( c ) => {\r\n  \r\n    const datesArr = c?.accounts\r\n      ?.flatMap( ( a ) => a.items )\r\n      ?.flatMap( ( i ) => i.values )\r\n      ?.flatMap( ( i ) => i.dated )\r\n\r\n    const datesSet = new Set( datesArr )\r\n    const dates = Array.from( datesSet )\r\n    return dates\r\n    };\r\n\r\n    const flat = cats\r\n      .flatMap( ( c ) => groupByCategory( c ) );\r\n    const dates = datesArray(cats[0]);\r\n    // console.log(`dates`, dates)\r\n    const signsSet = new Set( flat.map( ( r ) => r.sign ) );\r\n    const signs = Array.from( signsSet );\r\n    // console.log(`signs`, signs)\r\n    const res = []\r\n    dates.forEach( d => {\r\n      let sum = 0;\r\n      const filtered = flat.filter( r => r.date == d );\r\n      // console.log(`filtered`, filtered)\r\n      filtered.forEach( f => {\r\n        if (f.sign == 'plus') {\r\n\t\t\t\t\tsum = sum + f.total;\r\n        }\r\n        if ( f.sign == 'minus' ) {\r\n\t\t\t\t\tsum = sum - f.total;\r\n\t\t\t\t}\r\n      })\r\n      res.push( sum );\r\n      \r\n    } )\r\n    // console.log(`res`, res)'\r\n    return res;\r\n  },\r\n  genColors: ( i ) => [\r\n      'rgba(141,211,199, 0.5)' ,\r\n      'rgba(251,128,114, 0.5)' ,\r\n      'rgba(190,186,218, 0.5)' ,\r\n      'rgba(255,255,179, 0.5)' ,\r\n      'rgba(128,177,211, 0.5)' ,\r\n      'rgba(253,180,98, 0.5)' ,\r\n      'rgba(179,222,105, 0.5)' ,\r\n      'rgba(252,205,229, 0.5)' ,\r\n    'rgba(217, 217, 217, 0.5)',\r\n      'rgba(166,206,227, 0.5)' ,\r\n      'rgba(31,120,180, 0.5)' ,\r\n      'rgba(178,223,138, 0.5)' ,\r\n      'rgba(51,160,44, 0.5)' ,\r\n      'rgba(251,154,153, 0.5)' ,\r\n      'rgba(227,26,28, 0.5)' ,\r\n      'rgba(253,191,111, 0.5)' ,\r\n      'rgba(255,127,0, 0.5)' ,\r\n      'rgba(202,178,21, 0.5)' ,\r\n  ][ i ],\r\n  datesArray: ( c ) => {\r\n    \r\n\t\tconst datesArr = c?.accounts\r\n\t\t\t?.flatMap((a) => a.items)\r\n\t\t\t?.flatMap((i) => i.values)\r\n\t\t\t?.flatMap((i) => i.dated);\r\n\r\n\t\tconst datesSet = new Set(datesArr);\r\n\t\tconst dates = Array.from(datesSet);\r\n    return dates;\r\n  },\r\n\tgroupByAccount: (acct) => {\r\n\t\tconst datesArr = acct.items\r\n\t\t\t?.flatMap((i) => i.values)\r\n\t\t\t?.flatMap((i) => i.dated);\r\n\r\n\t\tconst datesSet = new Set(datesArr);\r\n\t\tconst dates = Array.from(datesSet);\r\n\r\n\t\tconst obj = {};\r\n\t\tconst accts = dates.map((d) => {\r\n\t\t\tif (acct.items.length) {\r\n\t\t\t\tobj[d] = \r\n\t\t\t\t\tacct.items\r\n\t\t\t\t\t\t?.flatMap((a) => a.values)\r\n\t\t\t\t\t\t.filter((v) => v.dated == d)\r\n\t\t\t\t\t\t.flatMap((v) => v.amount)\r\n\t\t\t\t\t\t.reduce((a, c) => a + c)\r\n\t\t\t\t;\r\n\t\t\t} else {\r\n\t\t\t}\r\n\t\t\treturn obj;\r\n\t\t});\r\n\r\n\t\t// console.log(`accts`, accts);\r\n\r\n\t\treturn dates.map((d) => obj[d]);\r\n\t},\r\n\tgroupByCategory: (c) => {\r\n\t\tconst datesArr = c?.accounts\r\n\t\t\t?.flatMap((a) => a.items)\r\n\t\t\t?.flatMap((i) => i.values)\r\n\t\t\t?.flatMap((i) => i.dated);\r\n\r\n\t\tconst datesSet = new Set(datesArr);\r\n\t\tconst dates = Array.from(datesSet);\r\n\r\n\t\tconst obj = {};\r\n\t\tconst accts = dates.map((d) => {\r\n\t\t\tconst items = c.accounts.flatMap((a) => a.items);\r\n\t\t\tconst sums = (obj[d] = items\r\n\t\t\t\t.flatMap((a) => a.values)\r\n\t\t\t\t.filter((v) => v.dated == d)\r\n\t\t\t\t.flatMap((v) => v.amount)\r\n\t\t\t\t.reduce((a, c) => a + c));\r\n\r\n\t\t\tif (items.length) {\r\n\t\t\t\tobj[d] =  sums\r\n\t\t\t} else {\r\n\t\t\t}\r\n\t\t\treturn obj;\r\n\t\t});\r\n\r\n\t\t// console.log(`accts`, accts[0])\r\n\r\n\t\treturn dates.map((d) => obj[d]);\r\n\t},\r\n\tstyleAmount: (sign) => {\r\n\t\tconst d = {\r\n\t\t\tplus: '',\r\n\t\t\tminus: ' text-danger'\r\n\t\t};\r\n\t\treturn d[sign];\r\n\t},\r\n\tcalculate_progress: (need, coll) => {\r\n\t\treturn Math.floor((coll / need) * 100);\r\n\t}\r\n};\r\n"],"sourceRoot":""}